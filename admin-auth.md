# 관리자 롤 및 인증 설계 (dogcamp)

## 1. 롤(Role) 구조

- 롤 종류 (초기 버전):
  - `ADMIN`: 모든 관리 기능 접근 가능
    - 캠핑장 CRUD
    - 애완견 정책 수정
    - 크롤링/데이터 연동 로그 조회
- 향후 필요 시:
  - `EDITOR` (일부 수정만 가능), `VIEWER` (조회만 가능) 등으로 확장 여지를 남겨둠

## 2. 롤 저장 위치

- Supabase `auth.users`의 `app_metadata.role` 필드 사용
- 예시:
  {
    "app_metadata": {
      "role": "ADMIN"
    }
  }
  사이트 이름이 아니라 “유형별 예시”입니다.  
> 나중에 실제로 조사하면서 각 행에 진짜 사이트 이름/URL을 넣어 채우면 됩니다.

| 이름                       | URL                       | 유형         | 사용 방식               | robots.txt 요약      | 이용약관 요약                                  | 상태       | 비고                                      |
|----------------------------|---------------------------|--------------|-------------------------|----------------------|-----------------------------------------------|-----------|-------------------------------------------|
[
  {
    "이름": "한국관광공사 고캠핑",
    "URL": "https://www.gocamping.or.kr",
    "유형": "공공/지자체",
    "반려견 정보": "있음",
    "robots.txt": "robots.txt 없음",
    "이용약관": "크롤링 금지 문구 없음 (확인한 페이지: )",
    "사용 방식": "공공 API / CSV import",
    "상태": "PoC 대상"
  },
  {
    "이름": "다음 캠핑",
    "URL": "https://camping.daum.net",
    "유형": "대형 포털",
    "반려견 정보": "없음",
    "robots.txt": "robots.txt 확인 실패: HTTPSConnectionPool(host='camping.daum.net', port=",
    "이용약관": "크롤링 금지 문구 없음 (확인한 페이지: )",
    "사용 방식": "공식 API/제휴 검토, HTML 크롤링 X",
    "상태": "후보"
  },
  {
    "이름": "캠핑맵",
    "URL": "https://www.campingmap.co.kr",
    "유형": "소규모 포털",
    "반려견 정보": "없음",
    "robots.txt": "robots.txt 확인 실패: HTTPSConnectionPool(host='www.campingmap.co.kr', p",
    "이용약관": "크롤링 금지 문구 없음 (확인한 페이지: )",
    "사용 방식": "HTML 크롤링 (가능 시)",
    "상태": "후보"
  }
]

| 공공데이터포털 캠핑장 API | (공공데이터포털 링크)     | 공공         | 공공 API / CSV import  | 보통 허용 (조건 확인) | 상업적 이용 가능 여부/출처 표시 조건 확인 필요 | PoC 대상  | 반려견 필드가 없으면 텍스트에서 추출 시도 |
| A 지자체 캠핑장 페이지    | (예: ○○도 캠핑장 안내 페이지) | 지자체/공공 | HTML 크롤링            | 보통 제한적/허용     | 공공 안내 성격, 크롤링 가능 여부 확인 필요      | 후보      | 반려견 문구가 단순 텍스트로 표기될 수 있음 |
| B 소규모 캠핑 포털        | (예: 중소 캠핑 정보 사이트) | 소규모 포털 | HTML 크롤링            | 사이트별 상이         | 크롤링/스크래핑 관련 조항 확인 필요            | 후보      | 구조가 단순하면 1차 PoC 대상으로 적합     |
| C 개별 캠핑장 사이트      | (예: 인기 반려견 캠핑장 BLG) | 개별 사이트 | HTML 크롤링            | 보통 robots 없음/단순 | 대개 명시X, 트래픽에 부담 안되는 선에서 사용   | 후보      | 반려견 특화 캠핑장은 브랜드 가치 높음     |
| D 대형 여행사/예약 포털   | (예: 대형 여행/예약 플랫폼) | 대형 포털   | 공식 API/제휴 검토     | 자주 크롤링 금지      | 무단 크롤링/상업적 이용 금지 조항 있는 경우 多 | 보류/검토 | HTML 크롤링 대상 X, 제휴/딥링크 위주       |

## 3. 1차 PoC 대상 선정 (예시)

- 1차 PoC 우선 후보:
  - 공공데이터포털 캠핑장 API (공공 + 안정적)
  - B 소규모 캠핑 포털 (구조가 단순하고 반려견 정보가 어느 정도 있음)
- 이유:
  - 공공 데이터는 라이선스 조건만 맞으면 안정적으로 사용 가능
  - 소규모 포털은 구조가 단순해 크롤러 설계/테스트에 적합

> 실제 조사 후에는 각 행에 대해  
> - `상태`를 `PoC 대상 / 후보 / 보류 / 제외`로 업데이트하고,  
> - robots/이용약관 내용을 한 줄씩 채워 넣으면 됩니다.